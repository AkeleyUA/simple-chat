(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,a,t){e.exports=t(193)},148:function(e,a){},192:function(e,a,t){},193:function(e,a,t){"use strict";t.r(a);var n,o=t(0),r=t.n(o),c=t(7),l=t.n(c),m=t(28),i=t(10),s=t(37),u=t(20),d=t(26),f=t(219),p=t(222),b=t(224),g=t(225),h=t(231),v=t(194),j=t(226),x=Object(f.a)({root:{height:"50%",padding:"10%",display:"flex",justifyContent:"space-around",flexDirection:"column",alignItems:"center"},body:{width:"100%",height:"100vh"},mt:{marginTop:30},divider:{backgroundColor:"#FFFFFF",marginTop:30,height:2},whiteText:{color:"#FFFFFF"}}),E=function(){var e=x(),a=Object(o.useState)({name:"",room:""}),t=Object(d.a)(a,2),n=t[0],c=t[1],l=Object(o.useState)({name:!1,room:!1}),i=Object(d.a)(l,2),f=i[0],E=i[1],O=function(e){c(Object(u.a)(Object(u.a)({},n),{},Object(s.a)({},e.target.name,e.target.value))),E(Object(u.a)(Object(u.a)({},f),{},Object(s.a)({},e.target.name,!1)))};return r.a.createElement("div",{className:e.body},r.a.createElement(p.a,{maxWidth:"sm",className:e.root},r.a.createElement(b.a,{variant:"h5",className:e.whiteText},"React chat"),r.a.createElement(g.a,{flexItem:!0,variant:"fullWidth",className:e.divider}),r.a.createElement(h.a,{required:!0,className:e.mt,label:"\u041b\u043e\u0433\u0438\u043d",type:"text",name:"name",variant:"filled",component:v.a,fullWidth:!0,error:f.name,value:n.name,onChange:O}),r.a.createElement(h.a,{className:e.mt,label:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430",type:"text",name:"room",variant:"filled",component:v.a,fullWidth:!0,error:f.room,value:n.room,onChange:O}),r.a.createElement(j.a,{fullWidth:!0,size:"large",type:"submit",onClick:function(e){return n.name?n.room?null:(E(Object(u.a)(Object(u.a)({},f),{},{room:!0})),e.preventDefault()):(E(Object(u.a)(Object(u.a)({},f),{},{name:!0})),e.preventDefault())},variant:"contained",color:"primary",to:"/chat?name=".concat(n.name,"&room=").concat(n.room),className:e.mt,component:m.b},"\u0412\u043e\u0439\u0442\u0438")))},O=t(96),y=t(92),N=t.n(y),F=t(93),w=t.n(F),C=t(227),k=t(228),T=Object(f.a)({toolBar:{display:"flex"},btn:{flexGrow:2},title:{flexGrow:10}}),B=function(e){var a=e.room,t=T();return r.a.createElement(C.a,{position:"static"},r.a.createElement(k.a,{className:t.toolBar},r.a.createElement(b.a,{className:t.title,variant:"h6"},"\u041a\u043e\u043c\u043d\u0430\u0442\u0430: ".concat(a)),r.a.createElement(j.a,{className:t.btn,color:"inherit",component:m.b,to:"/"},"\u0412\u044b\u0439\u0442\u0438")))},W=t(229),D=t(230),M=Object(f.a)({inputWrapper:{marginTop:20}}),S=function(e){var a=e.message,t=e.setMessage,n=e.sendMessage,o=M();return r.a.createElement("div",{className:o.inputWrapper},r.a.createElement(h.a,{InputProps:{className:o.input,endAdornment:a?r.a.createElement(W.a,{color:"primary",onClick:function(e){return n(e)}},r.a.createElement(D.a,null,"forward")):null},fullWidth:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",variant:"outlined",onChange:function(e){return t(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null},value:a}))},I=t(94),R=t.n(I),q=t(232),G=t(95),J=t.n(G),P=Object(f.a)({message:{display:"flex",justifyContent:"flex-start",margin:"10px 0",alignItems:"center"},yourMessage:{display:"flex",flexDirection:"row-reverse",margin:"10px 0",alignItems:"center"},text:{display:"flex",flexDirection:"column",justifyContent:"space-around",backgroundColor:"rgba(0,0,0, 0.1)",padding:5,borderRadius:4,wordBreak:"break-word"},yourText:{display:"flex",flexDirection:"column",justifyContent:"space-around",backgroundColor:"#3f51b5",color:"#FFFFFF",padding:5,borderRadius:4,wordBreak:"break-word"},avatar:{margin:"0 10px"},caption:{margin:"0 10px"}}),z=function(e){var a=e.message,t=a.user,n=a.text,o=e.name,c=P(),l=o.trim().toLowerCase();return r.a.createElement("div",{className:t===l?c.yourMessage:c.message},r.a.createElement(q.a,{className:c.avatar},t[0].toUpperCase()),r.a.createElement(b.a,{variant:"body1",className:t===l?c.yourText:c.text},J.a.emojify(n)),r.a.createElement(b.a,{className:c.caption,variant:"caption"},t))},A=Object(f.a)({root:{border:"1px solid rgba(0,0,0, 0.1)",borderRadius:4,marginTop:5,height:500,overflow:"hidden"},toBottonBtn:{position:"absolute",bottom:5,left:"50%",transform:"translateX(-50%)",width:60}}),K=function(e){var a=e.messages,t=e.name,n=A();return r.a.createElement(R.a,{followButtonClassName:n.toBottonBtn,className:n.root},a.map((function(e,a){return r.a.createElement(z,{key:"".concat(e.text,"_").concat(a),name:t,message:e})})))},L=Object(f.a)({root:{marginTop:"2.5vh",height:"95vh",position:"relative",paddingTop:24}}),U=function(e){var a=e.location,t=L(),c=Object(o.useState)({name:"",room:""}),l=Object(d.a)(c,2),m=l[0],i=l[1],s=Object(o.useState)([]),u=Object(d.a)(s,2),f=u[0],b=u[1],g=Object(o.useState)(""),h=Object(d.a)(g,2),j=h[0],x=h[1];Object(o.useEffect)((function(){var e=N.a.parse(a.search),t=e.name,o=e.room;return(n=w()()).emit("join",{name:t,room:o},(function(){})),i({name:t,room:o}),function(){n.emit("disconnect"),n.off()}}),[a]),Object(o.useEffect)((function(){return n.on("message",(function(e){b([].concat(Object(O.a)(f),[e]))})),function(){n.off()}}),[f]),console.log(j,f);return r.a.createElement(p.a,{maxWidth:"md",className:t.root,component:v.a},r.a.createElement(B,{room:m.room}),r.a.createElement(K,{messages:f,name:m.name}),r.a.createElement(S,{message:j,setMessage:x,sendMessage:function(e){e.preventDefault(),j&&n.emit("sendMessage",j,(function(){x("")}))}}))},X=function(){return r.a.createElement(m.a,null,r.a.createElement(i.a,{path:"/",exact:!0,component:E}),r.a.createElement(i.a,{path:"/chat",component:U}))};t(192);l.a.render(r.a.createElement(X,null),document.querySelector("#root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.1952e52a.chunk.js.map